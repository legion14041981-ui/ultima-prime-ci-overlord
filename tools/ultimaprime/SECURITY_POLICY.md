# üõ°Ô∏è SECURITY_POLICY.md ‚Äî ULTIMA-PRIME.CI-OVERLORD

**Version**: 1.0.0  
**Last Updated**: December 10, 2025  
**Classification**: Operational Governance Document

---

## 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–≥—Ä–∞–Ω–∏—Ü—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**, **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** –∏ **–≥–∞—Ä–∞–Ω—Ç–∏–∏** –¥–ª—è —Å–∏—Å—Ç–µ–º—ã ULTIMA-PRIME.CI-OVERLORD –ø—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–æ–≤.

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:
- Release Committee
- DevOps –∏–Ω–∂–µ–Ω–µ—Ä—ã
- Maintainers –ø—Ä–æ–µ–∫—Ç–∞
- CI/CD –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã

---

## 2. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏

### 2.1 –ü–æ–ª–∏—Ç–∏–∫–∞ "Dry-Run ‚Üí Review ‚Üí Apply"

**–ü—Ä–∏–Ω—Ü–∏–ø**: –ù–∏–∫–∞–∫–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –±–µ–∑ —è–≤–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

```
Diagnose (–∞–≤—Ç–æ–º–∞—Ç–∏—á) 
    ‚Üì
Generate patches (–∞–≤—Ç–æ–º–∞—Ç–∏—á)
    ‚Üì
üõë HUMAN REVIEW (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
    ‚Üì
Apply changes (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ push)
    ‚Üì
üõë HUMAN REVIEW (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
    ‚Üì
Push & Create Draft PR (—è–≤–Ω–æ)
    ‚Üì
üõë CODE REVIEW + CI CHECKS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã)
    ‚Üì
üõë RELEASE COMMITTEE APPROVAL (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
    ‚Üì
Merge (—Ä—É—á–Ω–æ–π, –ù–ï –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)
```

### 2.2 –ù–∏–∫–∞–∫–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö merge –æ–ø–µ—Ä–∞—Ü–∏–π

**–ì–∞—Ä–∞–Ω—Ç–∏—è**: 
- ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `git merge` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `--auto-merge` —Ñ–ª–∞–≥
- ‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–ª—å–∑—É–µ—Ç—Å—è admin privileges –¥–ª—è –æ–±—Ö–æ–¥–∞ reviews
- ‚úÖ –í—Å–µ PR —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ `--draft` (–µ—Å–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ Merge —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç Release Committee

### 2.3 –ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

**–ì–∞—Ä–∞–Ω—Ç–∏—è**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã

- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –≤ `diagnostics/report.{json,txt}`
- ‚úÖ –ü–∞—Ç—á–∏ –≤ `tools/ultimaprime/patches/`
- ‚úÖ GitHub Actions –ª–æ–≥–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –í—Å–µ –∫–æ–º–º–∏—Ç—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (no "ghost mode")

### 2.4 –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º–æ—Å—Ç—å

**–ì–∞—Ä–∞–Ω—Ç–∏—è**: –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω–æ

- ‚úÖ Git history –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω—ë–Ω
- ‚úÖ –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `git revert`
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Backup/rollback –ø–ª–∞–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–æ—Ç–æ–≤ **–ø–µ—Ä–µ–¥ merge**

---

## 3. –ß—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ú–û–ñ–ï–¢ –¥–µ–ª–∞—Ç—å

### ‚úÖ –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –î–æ–ø—É—Å—Ç–∏–º–æ | –ü—Ä–∏—á–∏–Ω–∞ |
|----------|----------|--------|
| –ß–∏—Ç–∞—Ç—å CI –ª–æ–≥–∏ | ‚úÖ –î–∞ | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ |
| –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ | ‚úÖ –î–∞ | –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ (Optional, –∏–º–ø–æ—Ä—Ç—ã –∏ —Ç.–¥.) |
| –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—á–∏ –≤ —Ñ–∞–π–ª—ã | ‚úÖ –î–∞ | Patches —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `patches/` |
| –°–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ | ‚úÖ –î–∞ | –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ push –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–º–∏—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ | ‚úÖ –î–∞ | –ö–æ–º–º–∏—Ç—ã –Ω–µ push–∞—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å draft PR | ‚úÖ –î–∞ | Draft –∑–Ω–∞—á–∏—Ç: –Ω–µ merged, requires review |
| –ü–∏—Å–∞—Ç—å –æ—Ç—á—ë—Ç—ã –Ω–∞ –¥–∏—Å–∫ | ‚úÖ –î–∞ | –õ–æ–∫–∞–ª—å–Ω–æ, –≤ `diagnostics/` |
| –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ | ‚úÖ –î–∞ | –î–ª—è –∞—É–¥–∏—Ç–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏ |

### ‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –ó–∞–ø—Ä–µ—â–µ–Ω–æ | –ü–æ—á–µ–º—É |
|----------|----------|--------|
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π merge | ‚ùå –ù–ï–¢ | –¢—Ä–µ–±—É–µ—Ç human approval |
| `git push --force` | ‚ùå –ù–ï–¢ | –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é |
| –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤ | ‚ùå –ù–ï–¢ | –ù–∞—Ä—É—à–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å |
| –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ—Ç–æ–∫ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | ‚ùå –ù–ï–¢ | –ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∑–∞—â–∏—Ç—ã –≤–µ—Ç–∫–∏ | ‚ùå –ù–ï–¢ | –û–±—Ö–æ–¥ —Ç—Ä–µ–±—É–µ–º—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ admin tokens –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | ‚ùå –ù–ï–¢ | –ù–∞—Ä—É—à–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å |
| –ú–∞—Å—Å–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ | ‚ùå –ù–ï–¢ | –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è |
| –ó–∞–ø–∏—Å—å –≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | ‚ùå –ù–ï–¢ | –ù–∞—Ä—É—à–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å |

---

## 4. –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ–º—ã–µ —Ä–∏—Å–∫–∏ –∏ —Å–º—è–≥—á–µ–Ω–∏–µ

### –†–∏—Å–∫ 1: –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ç—á–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–∞—Ç—á, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω–æ—Å–∏—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏—é.  
**–°–º—è–≥—á–µ–Ω–∏–µ**:
- üõë –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π human code review
- üõë –í—Å–µ CI checks –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ push
- ‚úÖ Draft PR –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ revert —á–µ—Ä–µ–∑ git

**–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ merge**:
```
[ ] pytest -q (–≤—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ)
[ ] ruff check src/ (–Ω–∏–∫–∞–∫–∏—Ö –Ω–æ–≤—ã—Ö warnings)
[ ] bandit -r src/ (security check)
[ ] –ö–æ–¥-—Ä–µ–≤—å—é –∑–∞–≤–µ—Ä—à—ë–Ω
[ ] Release Committee –æ–¥–æ–±—Ä–∏–ª
```

### –†–∏—Å–∫ 2: –ù–µ–ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∞ –∫–∞–∫—É—é-—Ç–æ –æ—à–∏–±–∫—É.  
**–°–º—è–≥—á–µ–Ω–∏–µ**:
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∞ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
- ‚úÖ –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è post-mortem –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –ü–∞—Ç—á–∏ –¥–æ–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π PR —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏

### –†–∏—Å–∫ 3: –°–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏ (race condition)

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –ù–µ—Å–∫–æ–ª—å–∫–æ PR —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.  
**–°–º—è–≥—á–µ–Ω–∏–µ**:
- ‚úÖ GitHub branch protection —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥ merge
- ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã merge —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### –†–∏—Å–∫ 4: –ù–µ–≤–µ—Ä–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞.  
**–°–º–∏–≥—á–µ–Ω–∏–µ**:
- üõë **Release Committee –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ –æ–¥–æ–±—Ä–∏—Ç—å –ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ requirements**
- ‚úÖ pip install -r requirements.txt –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ CI
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –û—Ç–∫–∞—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ git revert

---

## 5. –ú–µ—Ç–æ–¥—ã –æ—Ç—Å–µ—á–∫–∏ –æ–ø–∞—Å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### 5.1 –ù–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã

```python
# scan_ci.py
# –ì–ê–†–ê–ù–¢–ò–Ø: Only READS, never WRITES
# Output: diagnostics/report.json (read-only –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

# fix_optional_imports.py
# –ì–ê–†–ê–ù–¢–ò–Ø: –ü–∏—à–µ—Ç —Ç–æ–ª—å–∫–æ –≤ patches/, –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç src/
# –§–∞–π–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

# generate_pr_patch.sh
# –ì–ê–†–ê–ù–¢–ò–Ø: –°–æ–∑–¥–∞—ë—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ç–∫—É, –ù–ï –ø—É—à–∏—Ç
# –¢—Ä–µ–±—É–µ—Ç —è–≤–Ω—ã–π: git push && gh pr create
```

### 5.2 –ù–∞ —É—Ä–æ–≤–Ω–µ GitHub Actions

```yaml
# .github/workflows/ultimaprime-ci-healer.yml
name: ULTIMA-PRIME CI Healer

on:
  workflow_dispatch:  # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –û–ö
  # ‚ùå –ù–ï –í–ö–õ–Æ–ß–ê–ï–ú auto-trigger
  # ‚ùå –ù–ï –í–ö–õ–Æ–ß–ê–ï–ú push –Ω–∞ main
  # ‚ùå –ù–ï –í–ö–õ–Æ–ß–ê–ï–ú –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π merge

jobs:
  diagnose:
    # 1. –¢–æ–ª—å–∫–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
    # 2. –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (no auto-push)
    
  create-draft-pr:
    if: ${{ github.event_name == 'workflow_dispatch' }}
    # –¢—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ workflow_dispatch
    # –°–æ–∑–¥–∞—ë—Ç —Ç–æ–ª—å–∫–æ draft PR
    # –ù–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç merge
```

### 5.3 –ù–∞ —É—Ä–æ–≤–Ω–µ GitHub Branch Protection

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `main` –≤–µ—Ç–∫–∏**:

```
‚úÖ Require pull request reviews before merging (1-2 reviewers)
‚úÖ Dismiss stale pull request approvals
‚úÖ Require status checks to pass before merging
‚úÖ Require branches to be up to date before merging
‚úÖ Require code reviews before merge (–æ—Ç Release Committee)
‚ùå Allow auto-merge (–ù–ò–ö–û–ì–î–ê)
‚ùå Allow force push (–ù–ò–ö–û–ì–î–ê)
```

---

## 6. –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è (Governance)

### 6.1 –†–æ–ª–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

| –†–æ–ª—å | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –î–µ–π—Å—Ç–≤–∏—è |
|------|-----------------|----------|
| **System (ULTIMA-PRIME)** | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ç—á–µ–π | Scan, Generate patches (no apply) |
| **DevOps Engineer** | –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–≤—å—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | Review patches, test locally |
| **Code Reviewer** | Code review –Ω–∞ GitHub | Approve/request changes |
| **Release Committee** | –§–∏–Ω–∞–ª—å–Ω–æ–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è merge | Sign-off –ø–µ—Ä–µ–¥ merge |
| **Maintainer** | Merge –≤ main | Execute merge (manual) |

### 6.2 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

#### –®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (—Å–∏—Å—Ç–µ–º–∞)
```bash
python tools/ultimaprime/scan_ci.py --run-pytest
# –†–µ–∑—É–ª—å—Ç–∞—Ç: diagnostics/report.{json,txt}
```

#### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ç—á–µ–π (—Å–∏—Å—Ç–µ–º–∞)
```bash
python tools/ultimaprime/fix_optional_imports.py
python tools/ultimaprime/add_dependency_patch.py
# –†–µ–∑—É–ª—å—Ç–∞—Ç: tools/ultimaprime/patches/*
```

#### –®–∞–≥ 3: –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–≤—å—é (DevOps)
```bash
ls tools/ultimaprime/patches/ | less
cat diagnostics/report.txt
# ‚úÖ Approve –∏–ª–∏ ‚ùå Reject
```

#### –®–∞–≥ 4: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (DevOps, –ª–æ–∫–∞–ª—å–Ω–æ)
```bash
bash tools/ultimaprime/generate_pr_patch.sh
# –°–æ–∑–¥–∞—ë—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ç–∫—É + –∫–æ–º–º–∏—Ç—ã
# –ù–ï –ø—É—à–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

#### –®–∞–≥ 5: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (DevOps)
```bash
pytest -q
ruff check src/
bandit -r src/
# ‚úÖ –í—Å–µ –∑–µ–ª—ë–Ω–æ–µ?
```

#### –®–∞–≥ 6: Push –∏ Draft PR (DevOps, —è–≤–Ω—ã–π)
```bash
git push origin <branch-name>
gh pr create --draft --body-file tools/ultimaprime/PR_BODY.md
```

#### –®–∞–≥ 7: Code Review (Reviewer, –Ω–∞ GitHub)
```
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
–ü—Ä–æ—Å–∏—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
Approve, –µ—Å–ª–∏ –≤—Å—ë –û–ö
```

#### –®–∞–≥ 8: Release Committee Approval (—è–≤–Ω—ã–π sign-off)
```
–û—Ü–µ–Ω–∞: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ release strategy?
–û—Ü–µ–Ω–∞: –ù–∏–∫–∞–∫–∏—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π?
–û—Ü–µ–Ω–∞: Backup/rollback –ø–ª–∞–Ω –≥–æ—Ç–æ–≤?
‚úÖ APPROVE –¥–ª—è merge
```

#### –®–∞–≥ 9: Merge (Maintainer, —è–≤–Ω—ã–π)
```bash
# –ù–∞ GitHub: –Ω–∞–∂–∞—Ç—å "Merge pull request"
# –ò–ª–∏ –∏–∑ CLI:
gh pr merge <pr-number> --merge
```

---

## 7. –ê—É–¥–∏—Ç –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 7.1 –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

```
‚úÖ –í—Å–µ –∑–∞–ø—É—Å–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (timestamp, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
‚úÖ –í—Å–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—á–∏ (–¥–∞—Ç–∞, –∞–≤—Ç–æ—Ä, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
‚úÖ –í—Å–µ PR –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, review, merge)
‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ main –≤–µ—Ç–∫–µ (–∫–æ–º–º–∏—Ç—ã, author, –¥–∞—Ç–∞)
‚úÖ –í—Å–µ GitHub Actions runs (logs, artifacts, duration)
```

### 7.2 –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
cat diagnostics/report.txt
jq . diagnostics/report.json | less

# Git –∏—Å—Ç–æ—Ä–∏—è
git log --oneline -20 main
git show <commit-sha>

# GitHub Actions
gh run list --limit 20
gh run view <run-id> --log
```

---

## 8. –ß–µ–∫-–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

- [ ] –ü—Ä–æ—á–∏—Ç–∞–Ω —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç (SECURITY_POLICY.md)
- [ ] –í—Å–µ —á–ª–µ–Ω—ã Release Committee –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Branch protection –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è main
- [ ] GitHub Actions permissions –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
- [ ] Backup/rollback –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

### –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

- [ ] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞ (no auto-apply)
- [ ] –ü–∞—Ç—á–∏ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- [ ] Code review –∑–∞–≤–µ—Ä—à—ë–Ω
- [ ] Release Committee –æ–¥–æ–±—Ä–∏–ª
- [ ] –ù–∏ –æ–¥–∏–Ω —á–µ–∫ –Ω–µ –ø—Ä–æ–ø—É—â–µ–Ω

---

## 9. Incident Response

### –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ –ø–∞—Ç—á–µ –ø–æ—Å–ª–µ merge

```bash
# 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π revert
git revert <commit-sha>
git push origin main

# 2. Post-mortem –∞–Ω–∞–ª–∏–∑
–û—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç
–û—Å–º–æ—Ç—Ä–µ—Ç—å code review comments
–û—Å–º–æ—Ç—Ä–µ—Ç—å CI –ª–æ–≥–∏

# 3. –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
–û–±–Ω–æ–≤–∏—Ç—å scan_ci.py –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
```

### –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
cat diagnostics/report.txt

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é
python -m pytest -v
ruff check src/

# 3. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
pip install --upgrade pytest ruff bandit
```

---

## 10. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|----------|
| 1.0.0 | 2025-12-10 | Initial release |

---

## 11. –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —ç—Å–∫–∞–ª–∞—Ü–∏—è

- üìß **Release Committee**: [Specify email/Slack channel]
- üêõ **Bug Reports**: GitHub Issues in ultima-prime-ci-overlord
- üìû **Emergency**: [Specify escalation contact]

---

**–ü–û–ú–ù–ò–¢–ï**: –≠—Ç–æ –ù–ï –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –°–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å. üõ°Ô∏è
