# ğŸš€ ULTIMA-PRIME.CI-OVERLORD â€” Autonomous CI Diagnosis & Safe Patching

**v1.0.0** | "Dry-run â†’ Review â†’ Apply" Policy | No Auto-Merge Guarantee

## ğŸ¯ ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ:
- âœ… **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸** CI/QA Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (4+ Ñ‚Ğ¸Ğ¿Ğ°)
- âœ… **Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ñ… Ğ¿Ğ°Ñ‚Ñ‡ĞµĞ¹** Ğ´Ğ»Ñ Ñ‡Ğ°ÑÑ‚Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
- âœ… **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ draft-PR** Ñ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ĞµĞ¼
- âœ… **ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸ "dry-run â†’ review â†’ apply"** Ğ±ĞµĞ· Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ merge
- âœ… **ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ñ… Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ¾Ğ²** Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ

## ğŸ“¦ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### Python Scripts (tools/ultimaprime/)

| Script | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ’Ñ‹Ğ²Ğ¾Ğ´ |
|--------|---------|-------|
| **scan_ci.py** | Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ° CI/pytest Ğ»Ğ¾Ğ³Ğ¾Ğ² | `diagnostics/report.{json,txt}` |
| **fix_optional_imports.py** | Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ°Ñ‚Ñ‡Ğ¸ Ğ´Ğ»Ñ `Optional` Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ² | `patches/*.patch` |
| **add_dependency_patch.py** | Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ | `patches/*.txt` |
| **migrate_pydantic_notes.md** | Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Pydantic v1â†’v2 | Reference doc |

### Bash Utilities

| Script | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ |
|--------|---------|----------|
| **generate_pr_patch.sh** | Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½ÑƒÑ Ğ²ĞµÑ‚ĞºÑƒ + ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ñ‹ | âœ… No auto-push |
| **apply_patch_prompt.sh** | Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ‚Ñ‡ĞµĞ¹ | âœ… Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ |

### GitHub Actions

| Workflow | Ğ¢Ñ€Ğ¸Ğ³Ğ³ĞµÑ€ | Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ |
|----------|---------|----------|
| **ultimaprime-ci-healer.yml** | `workflow_dispatch` Ğ¸Ğ»Ğ¸ `@ultima-prime scan` Ğ² issue comment | Artifacts + Summary |

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### 1ï¸âƒ£ Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°

```bash
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
python3 -m venv .venv && source .venv/bin/activate
pip install -r requirements-dev.txt  # pytest, ruff, bandit, etc.

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸
python tools/ultimaprime/scan_ci.py --run-pytest

# Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
cat diagnostics/report.txt
```

### 2ï¸âƒ£ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ‚Ñ‡ĞµĞ¹

```bash
# ĞŸĞ°Ñ‚Ñ‡Ğ¸ Ğ´Ğ»Ñ Optional Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ²
python tools/ultimaprime/fix_optional_imports.py

# ĞŸĞ°Ñ‚Ñ‡Ğ¸ Ğ´Ğ»Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
python tools/ultimaprime/add_dependency_patch.py

# ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‡Ğ¸
ls -la tools/ultimaprime/patches/
```

### 3ï¸âƒ£ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ draft PR (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾)

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ²ĞµÑ‚ĞºÑƒ + ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ñ‹ (Ğ±ĞµĞ· push)
bash tools/ultimaprime/generate_pr_patch.sh

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
git show --stat HEAD
git diff HEAD~1 HEAD | less

# Ğ•ÑĞ»Ğ¸ Ğ²ÑÑ‘ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾ â€” Ğ¿ÑƒÑˆÑŒ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹ PR
git push origin <branch-name>
gh pr create --draft --body-file tools/ultimaprime/PR_BODY.md
```

### 4ï¸âƒ£ Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ

```bash
# ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ğ¿Ğ°Ñ‚Ñ‡Ğ¸ Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ĞµĞ¼
bash tools/ultimaprime/apply_patch_prompt.sh

# ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ
git add .
git commit -m "chore: apply patches"
```

## ğŸ”„ Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. RUN DIAGNOSTICS                                         â”‚
â”‚     python scan_ci.py --run-pytest                          â”‚
â”‚     â†’ diagnostics/report.{json,txt}                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. GENERATE PATCHES                                        â”‚
â”‚     python fix_optional_imports.py                          â”‚
â”‚     python add_dependency_patch.py                          â”‚
â”‚     â†’ tools/ultimaprime/patches/*.patch                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. HUMAN REVIEW (CRITICAL)                                 â”‚
â”‚     cat tools/ultimaprime/patches/* | less                 â”‚
â”‚     â†’ Approved? Continue to 4                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. APPLY & COMMIT (Local)                                  â”‚
â”‚     bash generate_pr_patch.sh                              â”‚
â”‚     â†’ nueva branch + local commits                          â”‚
â”‚     â†’ NO auto-push yet!                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. PUSH & CREATE DRAFT PR                                  â”‚
â”‚     git push origin <branch>                                â”‚
â”‚     gh pr create --draft                                    â”‚
â”‚     â†’ Draft PR with full visibility                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. REVIEW & APPROVE                                        â”‚
â”‚     Code review by team                                     â”‚
â”‚     CI checks must pass                                     â”‚
â”‚     â†’ Approved? Merge manually (NEVER auto)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”’ ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸

### Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ğ¸

âœ… **Dry-run Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¼**
- Ğ’ÑĞµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ preview
- ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ğ½ĞµĞ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ğ¼Ñ‹Ñ… Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ Ğ±ĞµĞ· Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ

âœ… **ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… merge**
- Draft PR Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾
- Ğ ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾
- Release Committee must sign off

âœ… **ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ**
- Ğ’ÑĞµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ²Ğ¸Ğ´Ğ½Ñ‹ Ğ² diagnostics/report.{json,txt}
- Ğ’ÑĞµ Ğ¿Ğ°Ñ‚Ñ‡Ğ¸ Ğ² tools/ultimaprime/patches/
- GitHub Actions workflow Ğ»Ğ¾Ğ³Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹

âœ… **ĞÑ‚ĞºĞ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼Ğ¾**
- Git history ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½
- Ğ›ÑĞ±Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‘Ğ½
- Backup Ğ¿Ğ»Ğ°Ğ½ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ¿ĞµÑ€ĞµĞ´ merge

### Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ¿ĞµÑ€ĞµĞ´ merge

- [ ] Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¸: `pytest -q`
- [ ] CI checks Ğ²ÑĞµ Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğµ
- [ ] Code review Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½
- [ ] ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ğ½Ğ¾Ğ²Ñ‹Ñ… warnings/errors
- [ ] Backup/rollback Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹
- [ ] Release Committee Ğ¾Ğ´Ğ¾Ğ±Ñ€Ğ¸Ğ»
- [ ] Changelog Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½

## ğŸ“Š Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
tools/
â”œâ”€â”€ ultimaprime/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ scan_ci.py              # ğŸ“Š Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°
â”‚   â”œâ”€â”€ fix_optional_imports.py  # ğŸ”§ ĞŸĞ°Ñ‚Ñ‡Ğ¸ Ğ´Ğ»Ñ Optional
â”‚   â”œâ”€â”€ add_dependency_patch.py  # ğŸ“¦ ĞŸĞ°Ñ‚Ñ‡Ğ¸ Ğ´Ğ»Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
â”‚   â”œâ”€â”€ migrate_pydantic_notes.md # ğŸ“– Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Pydantic
â”‚   â”œâ”€â”€ generate_pr_patch.sh    # ğŸŒ³ Ğ’ĞµÑ‚ĞºĞ° + ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ñ‹
â”‚   â”œâ”€â”€ apply_patch_prompt.sh   # âœ… Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ PR_BODY.md              # ğŸ“ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ PR
â”‚   â”œâ”€â”€ patches/                # ğŸ—‚ Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‡Ğ¸
â”‚   â”‚   â”œâ”€â”€ *.patch
â”‚   â”‚   â”œâ”€â”€ *.txt
â”‚   â”‚   â””â”€â”€ DEPENDENCIES_PATCH_SUMMARY.json
â”‚   â””â”€â”€ README.md               # (ÑÑ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»)
â”‚
.github/
â””â”€â”€ workflows/
    â””â”€â”€ ultimaprime-ci-healer.yml # âš™ï¸ GitHub Actions

diagnostics/
â”œâ”€â”€ report.json                 # ğŸ¤– Machine-readable
â””â”€â”€ report.txt                  # ğŸ‘¤ Human-readable
```

## ğŸ® GitHub Actions

### Ğ¢Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ñ‹

```bash
# Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº
gh workflow run ultimaprime-ci-healer.yml

# Ğ˜Ğ· issue comment
@ultima-prime scan  # (Ğ² ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğº issue)
```

### Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹

- ğŸ“Š Artifacts Ñ diagnostics Ğ¸ patches
- ğŸ”— Ğ¡ÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ
- ğŸ“ Summary Ğ² workflow run

## ğŸš¨ ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ¸ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ°

### `python: command not found`

```bash
python3 --version  # Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ python3 ÑĞ²Ğ½Ğ¾
python3 tools/ultimaprime/scan_ci.py --run-pytest
```

### `pytest: No such file`

```bash
pip install pytest pytest-cov
python -m pytest -v
```

### `No patches found`

```bash
# Ğ£Ğ±ĞµĞ´Ğ¸ÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ°
python tools/ultimaprime/scan_ci.py --run-pytest
ls diagnostics/

# Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞ¹ Ğ¿Ğ°Ñ‚Ñ‡Ğ¸
python tools/ultimaprime/fix_optional_imports.py
```

### ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°

```bash
cat diagnostics/report.txt | less
jq . diagnostics/report.json | less
```

## ğŸ“š Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾

- **ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Pydantic v1â†’v2**: See `migrate_pydantic_notes.md`
- **Security Policy**: See section above
- **Author**: ULTIMA-PRIME.CI-OVERLORD v1.0.0

## ğŸ“ Support

âš ï¸ **Ğ­Ğ¢Ğ BETA.** Report issues and feedback:
- GitHub Issues
- PR comments
- Direct messages

---

**Remember:** Dry-run first, review always, merge never without approval. Stay safe! ğŸ›¡ï¸
